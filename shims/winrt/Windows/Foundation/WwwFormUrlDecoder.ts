// --------------------------------------------------
// <auto-generated>
//     This code was generated by tswinrt.
//     Generated from Windows 255.255.255.255 at Fri Mar 26 17:23:03 2021
// </auto-generated>
// --------------------------------------------------

import { IIterable } from "./Collections/IIterable`1";
import { IIterator } from "./Collections/IIterator`1";
import { IVectorView } from "./Collections/IVectorView`1";
import { IWwwFormUrlDecoderEntry } from "./IWwwFormUrlDecoderEntry";
import { GenerateShim } from "./Interop/GenerateShim";
import { ReadOnlyVector } from "./Interop/ReadOnlyVector`1";

@GenerateShim('Windows.Foundation.WwwFormUrlDecoder')
export class WwwFormUrlDecoder extends ReadOnlyVector<IWwwFormUrlDecoderEntry> {
    constructor(query: string) {
        let queries: IWwwFormUrlDecoderEntry[] = [];
        let pairs = (query[0] === '?' ? query.substr(1) : query).split('&');
        for (var i = 0; i < pairs.length; i++) {
            var pair = pairs[i].split('=');
            queries.push({ name: decodeURIComponent(pair[0]), value: decodeURIComponent(pair[1] || '') });
        }

        super(queries);
    }

    getFirstValueByName(name: string): string {
        for (const element of this) {
            if (element.name == name)
                return element.value;
        }
    }
}
