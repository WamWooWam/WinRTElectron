Jx.delayDefine(Chat.Shared,"ensureLockScreen",function(){var n=Windows.ApplicationModel.Background;Chat.Shared.ensureLockScreen=function(){var i=false,t;try{t=n.BackgroundExecutionManager.getAccessStatus();(t===n.BackgroundAccessStatus.allowedWithAlwaysOnRealTimeConnectivity||t===n.BackgroundAccessStatus.allowedMayUseActiveRealTimeConnectivity)&&(i=true)}catch(r){Jx.log.info("BackgroundExecutionManager.getAccessStatus() failed")}i||setImmediate(function(){try{n.BackgroundExecutionManager.requestAccessAsync()}catch(t){Jx.log.info("BackgroundExecutionManager.requestAccessAsync() failed")}})}})