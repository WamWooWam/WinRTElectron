Jx.delayDefine(Calendar.Controls,"DatePickerAnchor",function(){function t(n){Jx.mark("Calendar:DatePickerAnchor."+n+",StartTA,Calendar")}function i(n){Jx.mark("Calendar:DatePickerAnchor."+n+",StopTA,Calendar")}var n=Calendar.Controls.DatePickerAnchor={};n.applyHeaderText=function(n,t){var i=n.querySelector(".anchorText");i.firstChild.textContent=t};n.isActiveDateAnchor=function(n){for(var t=false,i=false;!t&&n;)n.classList.contains("activeAnchor")?(t=true,i=true):n.classList.contains("dateAnchor")&&(t=true),t||(n=n.parentElement);return i};n.updateDatePickerButton=function(r,u){var o,e,c;for(t("updateDatePickerButton"),o=r.getRealized(true),e=0,c=o.length;e<c;++e){var s=o[e],h=s.el.querySelector(".anchorText"),f=s.el.querySelector(".dateAnchor");h&&f&&(s===u?(h.setAttribute("role","button"),f.classList.add("activeAnchor"),n._registerInteractiveHandlers(f)):(h.setAttribute("role","heading"),f.classList.remove("activeAnchor"),n._unregisterInteractiveHandlers(f)))}i("updateDatePickerButton")};n.deactivateHeader=function(t){var r=t.querySelector(".anchorText"),i=t.querySelector(".activeAnchor"),u=t.querySelector(".dateAnchor");r.setAttribute("role","heading");i&&(i.classList.remove("activeAnchor"),n._unregisterInteractiveHandlers(u))};n._registerInteractiveHandlers=function(n){var u=n._anchorHandlers,r=n;u||(u={},r._anchorHandlers=u,u.onMouseOver=function(n){t("onMouseOver");r&&r.classList.add("hover");n.stopPropagation();n.preventDefault();i("onMouseOver")},u.onMouseOut=function(n){if(t("onMouseOut"),r){var u=r.classList;u.remove("hover");u.remove("active")}n.stopPropagation();n.preventDefault();i("onMouseOut")},u.onMouseDown=function(n){t("onMouseDown");r&&r.classList.add("active");n.stopPropagation();n.preventDefault();i("onMouseDown")},u.onMouseUp=function(n){t("onMouseUp");r&&r.classList.remove("active");n.stopPropagation();n.preventDefault();i("onMouseUp")},u.onMouseClick=function(){if(t("onMouseClick"),r){var n=r.classList;n.remove("active");n.remove("hover")}i("onMouseClick")},r.addEventListener("mouseover",u.onMouseOver),r.addEventListener("mouseout",u.onMouseOut),r.addEventListener("mousedown",u.onMouseDown),r.addEventListener("mouseup",u.onMouseUp),r.addEventListener("click",u.onMouseClick))};n._unregisterInteractiveHandlers=function(n){var t=n._anchorHandlers,i=n;t&&(i._anchorHandlers=null,i.removeEventListener("mouseover",t.onMouseOver),i.removeEventListener("mouseout",t.onMouseOut),i.removeEventListener("mousedown",t.onMouseDown),i.removeEventListener("mouseup",t.onMouseUp),i.removeEventListener("click",t.onMouseClick))}})