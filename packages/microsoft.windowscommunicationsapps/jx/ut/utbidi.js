
//
// Copyright (C) Microsoft Corporation.  All rights reserved.
//

/*jshint browser:true*/
/*global Tx,Jx*/
(function () {
    var ltr = Jx.Bidi.Values.ltr,
        rtl = Jx.Bidi.Values.rtl,
        none = Jx.Bidi.Values.none;

    // TODO: Add more complete tests
    var testData = [
        { text: "a", expected: ltr },
        { text: "!!!!a", expected: ltr },
        { text: "H89234JOOIJ", expected: ltr },
        { text: "920834082987()*&#()@*&$(@)#&$()@&97503845-0298354 30458 \n \u0633\u0628\u0634\u0633\u064a\u0628", expected: rtl },
        { text: "\u0634\u0633\u064a\u0628\u0634\u0633", expected: rtl }, //arabic
        { text: "   8973298479 2348792394 7!*(@&#)( &@!#)@ :) :) :) :) :)", expected: none },
        { text: "Aix\u00f2 \u00e9s nom\u00e9s una prova, res m\u00e9s ni menys", expected: ltr }, //catalan
        { text: "\u0e19\u0e35\u0e49\u0e40\u0e1b\u0e47\u0e19\u0e40\u0e1e\u0e35\u0e22\u0e07\u0e01\u0e32\u0e23\u0e17\u0e14\u0e2a\u0e2d\u0e1a \u0e44\u0e21\u0e48\u0e21\u0e35\u0e2d\u0e30\u0e44\u0e23\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e44\u0e21\u0e48\u0e19\u0e49\u0e2d\u0e22\u0e01\u0e27\u0e48\u0e32", expected: ltr }, //thai
        { text: "\u042d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0442\u0435\u0441\u0442, \u043d\u0438\u0447\u0435\u0433\u043e \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435", expected: ltr }, //russian
        { text: "\u3053\u308c\u306f\u3061\u3087\u3046\u3069\u30c6\u30b9\u30c8\u3001\u4f55\u3082\u306a\u3044\u3088\u308a\u3082\u5c11\u306a\u3044", expected: ltr }, //japanese
        { text: ". \u05d6\u05d4 \u05e8\u05e7 \u05de\u05d1\u05d7\u05df, \u05d0\u05d9\u05df \u05e9\u05d5\u05dd \u05d3\u05d1\u05e8 \u05e0\u05d5\u05e1\u05e3 \u05dc\u05d0 \u05e4\u05d7\u05d5\u05ea", expected: rtl }, //hebrew
        { text: "\u0dca\u0dd2\u0dcf\u0dd9\u0dca\u0dd2\u0dcf\u0dd9\u0dca\u0dd2\u0dcf\u0dd9 \u0dca\u0dd2\u0dcf\u0dd9 \u0dca\u0dd2\u0dd9 \u0dca\u0dd2\u0dcf\u0dd9 \u0dca\u0dd2\u0dcf\u0dd9 \u0dd2 \u0dca\u0dd2\u0dcf\u0dd9\u0dca\u0dd2", expected: ltr }, //sinhala
        { text: "\u0eb1 \u0eb8\u0e9f\u0ec2\u0e96\u0eb8 \u0e9f\u0ec2\u0e96\u0eb8 \u0eb9 \u0e84\u0eb9\u0e84\u0e95\u0e95\u0e88 \u0e84\u0e95\u0e88\u0eb9 \u0e95\u0e88 \u0eb9\u0e84 \u0ec0\u0ec1\u0ead\u0eb6\u0eb7\u0e94\u0ec0\u0ec9 56+\u0eab\u0e81\u0e94 55+6 \u0eab\u0e81\u0e94\u0eb1\u0eab\u0ec0\u0eb1\u0ec0 \u0e81\u0e94\u0ec0\u0e81\u0ec9\u0e9e\u0eb0\u0eae\u0eb5\u0ec4\u0eb4\u0eb3\u0eb0 \u0eb3\u0ec9\u0eb0\u0e88\u0e96\u0ec2\u0e95\u0eb8\u0e84\u0e96\u0ec2\u0eb8\u0e9f\u0ec2\u0e96 \u0e88\u0e95\u0eb8\u0e84\u0ec2\u0e96\u0eb8 \u0eab", expected: ltr }, // lao
        { text: "98\u043a\u0434 \u044c\u0432\u044f\u043d\u0430\u043e \u044f\u0442\u043e \u0436\u0434\u0430\u043e\u0442\u0436\u0430\u043e\u0436\u0434\u0437\u0441\u044f\u0442\u0430\u043e \u044c\u044f\u043e\u0430\u0442 \u043e\u044f\u0430\u043e \u044c\u044f\u043e \u0436\u0433\u0448\u0441\u0434\u0438\u0448 ", expected: ltr }, // bulgarian

         // Surrogate pair tests
        { text: "\ud83d\ude0a\ud83d\ude0a\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude0a\ud83d\ude0a\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude0a\ud83d\ude0a\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude16", expected: none },
        { text: "\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56", expected: none },
        { text: "\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude16asdfkjsadf\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude16", expected: ltr },
        { text: "\ud83d\ude16\ud83d\ude16\ud83d\ude16\ud83d\ude16#*$(#&$98749234203947 (&$#)(@&$@#$ @#$ \u0634\u0633", expected: rtl },
        { text: "\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56 \u05d6\u05d4 \u05e8\u05e7 \u05de\u05d1\u05d7\u05df, \u05d0\u05d9\u05df \u05e9\u05d5\u05dd \u05d3\u05d1\u05e8 \u05e0\u05d5\u05e1\u05e3 \u05dc\u05d0 \u05e4\u05d7\u05d5\u05ea asdfaskdfj asdf asdf ", expected: rtl }, // Surrogate pair with hebrew and english

        // Long text
        {
            text: "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "&^#$&@#(*^%#$)&@#&$&(& &@#$&@)#*$& (@#*&$ @#$ @#$ \ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56" +
              "8497230947902374 09723904712093472134 2134 214 2143 1234 12341234 24 \ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf06\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56\ud834\udf56", expected: none
        }


    ];

    Tx.test("Jx.Bidi_UnitTest", { owner: "andrha" }, function (tc) {
        testData.forEach(function (obj) {
            var dir = Jx.Bidi.getTextDirection(obj.text);
            tc.areEqual(dir, obj.expected, "Failed on: " + obj.text);
        });
    });

    var testHTML = [
        { html: "<html dir=\"ltr\"><body></body></html>", expected: "ltr" },
        { html: "<html style=\"direction: ltr\"><body></body></html>", expected: "ltr" },
        { html: "<html><body dir=\"ltr\"></body></html>", expected: "ltr" },
        { html: "<html><body style=\"direction: ltr\"></body></html>", expected: "ltr" },
        { html: "<html dir=\"rtl\"><body></body></html>", expected: "rtl" },
        { html: "<html style=\"direction: rtl\"><body></body></html>", expected: "rtl" },
        { html: "<html><body dir=\"rtl\"></body></html>", expected: "rtl" },
        { html: "<html><body style=\"direction: rtl\"></body></html>", expected: "rtl" },
        { html: "<html><head></head><body></body></html>", expected: '' }
    ],
        iframe;

    function createIframe() {
        iframe = document.createElement("iframe");
        document.body.appendChild(iframe);
    }

    function cleanup() {
        document.body.removeChild(iframe);
        iframe = null;
    }

    Tx.test("Jx.Bidi_GetDirection", { owner: "andrha" }, function (tc) {
        testHTML.forEach(function (obj) {
            createIframe();
            iframe.contentWindow.document.write(obj.html);
            var dir = Jx.Bidi.getDocumentDirection(iframe.contentWindow.document);
            tc.areEqual(dir, obj.expected, "HTML: " + obj.html);
            cleanup();
        });
    });


})();
