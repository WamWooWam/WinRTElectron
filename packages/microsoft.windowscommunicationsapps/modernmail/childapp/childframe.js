Jx.delayDefine(Mail,"CompFrame",function(){"use strict";var t=Mail.CompFrame=function(n,t){var e,o;Mail.log("Frame_Ctor",Mail.LogEvent.start);this._name="Mail.CompFrame";this.initComponent();var i=new Mail.Selection(n,t),r=Mail.guiState=new Mail.GUIState,u=new Mail.GlomManager(i,r,n),f=Mail.Globals.commandManager=new Mail.Commands.Manager(u,i);Mail.log("Frame_Ctor_Children",Mail.LogEvent.start);e=this._readingPaneSection=new Mail.ReadingPaneSection(i,null);o=this._commandBar=new Mail.CompCommandBar(f);this.append(e,o);Mail.Utilities.ComposeHelper.registerSelection(i);this._disposer=new Mail.Disposer(r,u,f,Mail.UIDataModel.FolderCache);Mail.log("Frame_Ctor_Children",Mail.LogEvent.stop);Mail.log("Frame_Ctor",Mail.LogEvent.stop)},n;t.frameElementId="mailFrame";Jx.augment(t,Jx.Component);n=t.prototype;Mail.CompMessageList={defaultElementId:"fakeMessageList"};n.getUI=function(n){Mail.log("Frame_getUI",Mail.LogEvent.start);var t=Jx.getUI(this._readingPaneSection),i=Jx.getUI(this._commandBar);n.html="<div id='mailFrame'><div id=\""+Mail.CompMessageList.defaultElementId+'" class="hidden"><\/div>'+t.html+"<div id=\"fakePeekBar\"><\/div><\/div><div id='mailFrameCommandBar'>"+i.html+"<\/div>";Mail.log("Frame_getUI",Mail.LogEvent.stop)};n.onActivateUI=function(){Mail.guiState.updateViewState();this._disposer.add(Mail.EventHook.createEventManagerHook(this,People.DialogEvents.closed,this._onDialogClosed,this))};n.onDeactivateUI=function(){Jx.dispose(this._disposer)};n._onDialogClosed=function(){Jx.safeSetActive(document.getElementById(t.frameElementId))};n.postStartupWork=function(){this._commandBar.register();this.postStartupWork=Jx.fnEmpty}})