Jx.delayDefine(Mail.Utilities,"ConnectivityMonitor",function(){"use strict";var n=window.Mail.Utilities;n.ConnectivityMonitor={hasNoInternetConnection:function(){return this._ensureListener(),this._level!==Windows.Networking.Connectivity.NetworkConnectivityLevel.internetAccess},dispose:function(){this._listeningFunc&&(Windows.Networking.Connectivity.NetworkInformation.removeEventListener("networkstatuschanged",this._listeningFunc),this._listeningFunc=null,this._level=null)},Events:{connectivityChanged:"connectivityChanged"},_level:null,_listeningFunc:null,_ensureListener:function(){this._listeningFunc||(Mail.writeProfilerMark("ConnectivityMonitor._ensureListener",Mail.LogEvent.start),this._listeningFunc=this._updateLevel.bind(this),Windows.Networking.Connectivity.NetworkInformation.addEventListener("networkstatuschanged",this._listeningFunc),this._updateLevel(),Mail.writeProfilerMark("ConnectivityMonitor._ensureListener",Mail.LogEvent.stop))},_updateLevel:function(){var t;Mail.writeProfilerMark("ConnectivityMonitor._updateLevel",Mail.LogEvent.start);var i=Windows.Networking.Connectivity,r=i.NetworkConnectivityLevel,n=r.none;try{t=i.NetworkInformation.getInternetConnectionProfile();Jx.isObject(t)&&(n=t.getNetworkConnectivityLevel())}catch(u){Jx.log.exception("Exception from Connectivity.NetworkInformation",u);n=r.none}n!==this._level&&(this._level=n,Jx.EventManager.fireDirect(null,this.Events.connectivityChanged,n));Mail.writeProfilerMark("ConnectivityMonitor._updateLevel",Mail.LogEvent.stop)}}})