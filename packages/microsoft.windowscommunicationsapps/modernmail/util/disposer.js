Jx.delayDefine(Mail,["Disposer","Disposable"],function(){"use strict";function n(n){n.dispose?n.dispose():n.forEach(Jx.dispose)}var i=Mail.Disposer=function(){this.addMany.apply(this,arguments)},t;i.prototype={dispose:function(){var t=this._disposables,i;if(t)for(this._disposables=null,i=t.length;i--;)n(t[i])},add:function(n){var t=this._disposables=this._disposables||[];return t.push(n),n},addMany:function(){var n=this._disposables=this._disposables||[];n.push.apply(n,arguments)},disposeNow:function(t){t&&(this.removeDisposable(t),n(t))},replace:function(n,t){return this.disposeNow(n),t&&this.addMany(t),t},removeDisposable:function(n){var t=this._disposables.indexOf(n);t!==-1&&this._disposables.splice(t,1)}};t=Mail.Disposable=function(n,t){this._obj=n;this._methodName=t};t.prototype={dispose:function(){var n=this._obj;n&&(this._obj=null,n[this._methodName]())}}})