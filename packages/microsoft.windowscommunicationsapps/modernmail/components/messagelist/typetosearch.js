Jx.delayDefine(Mail,"TypeToSearch",function(){"use strict";Mail.TypeToSearch=function(n,t){this._box=n;this._listener=this._focusChanged.bind(this);this._host=t;this._eventHooks=new Mail.Disposer(new Mail.EventHook(window,"focusin",this._listener,this,false),new Mail.EventHook(n,"receivingfocusonkeyboardinput",this._onTypeToSearch,this,false));this._focusChanged({target:document.activeElement})};var n=Mail.TypeToSearch.prototype;Jx.augment(Mail.TypeToSearch,Jx.Events);n.dispose=function(){Jx.dispose(this._eventHooks);this._box.focusOnKeyboardInput=false};n._onTypeToSearch=function(){this._isTypeToSearchEnabled(document.activeElement)&&this.raiseEvent("typetosearch")};n._focusChanged=function(n){this._box.focusOnKeyboardInput=this._isTypeToSearchEnabled(n.target)};n._isTypeToSearchEnabled=function(n){var t=Mail.Utilities.ComposeHelper,i=Mail.guiState;return i.isReadingPaneVisible&&(t.isComposeLaunching||t.isComposeShowing)?false:n?Mail.isElementEditable(n)?false:!this._host.disabled&&(n===document.body||n===document.documentElement)?true:Mail.isElementOrDescendant(n,this._host)?true:Mail.isElementOrDescendant(n,document.getElementById(Mail.CompCommandBar.appBarElementId))?true:false:!this._host.disabled}})