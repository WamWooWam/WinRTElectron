Jx.delayDefine(Mail,"ViewCustomizations",function(){function r(n,t){var i=n.getView(t);return i&&i.isEnabled}var t=Microsoft.WindowsLive.Platform,n=t.MailViewType,i=[{property:"hasNewsletterCategory",viewType:n.newsletter,resource:"mailLabelNewsletter"},{property:"hasSocialUpdateCategory",viewType:n.social,resource:"mailLabelSocialUpdate"}];Mail.ViewCustomizations={getLabel:function(t,u){var f,e;return t.isDraft?null:(f=u.type,(f===n.person||f===n.allPinnedPeople||f===n.flagged)&&(u=u.account.inboxView),u.containsMessage(t))?null:t.isInInbox&&(e=i.filter(function(n){return t[n.property]&&r(u.account,n.viewType)}),e.length>0)?e.map(function(n){return Jx.res.getString(n.resource)}).join(", "):t.getBestViewName(u.objectId)},shouldBeDefaultSelection:function(t,i,r){switch(r.type){case n.allPinnedPeople:case n.person:return r.containsMessage(i);default:return t.hasOnlyDraftOrSent?i.isInSentItems:!i.isInSentItems}}}})