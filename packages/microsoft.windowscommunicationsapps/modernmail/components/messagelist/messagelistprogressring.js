Jx.delayDefine(Mail,["MessageListProgressRing","WinJSAnimationSuppressor"],function(){"use strict";var n=Mail.MessageListProgressRing=function(n){this._progressRingElement=n;this._timer=null;this._suppressor=null;this._oldShowProgress=false;this._setRingVisibility(false);this._disposer=new Mail.Disposer},t;n.prototype._setRingVisibility=function(n){Mail.writeProfilerMark("MessageListProgressRing - "+(n?"showing":"hiding")+" the messageList Progress Ring");Jx.setClass(this._progressRingElement,"hidden",!n)};n.prototype.adjustVisibilityForSyncStatus=function(n){n&&(this._suppressor=this._disposer.replace(this._suppressor,new Mail.WinJSAnimationSuppressor));this._setRingVisibility(n);this._oldShowProgress&&!n&&(this._timer=this._disposer.replace(this._timer,new Jx.Timer(1e3,function(){this._disposer.disposeNow(this._suppressor);this._suppressor=null},this)));this._oldShowProgress=n};n.prototype.dispose=function(){this._disposer.dispose()};t=WinJS.UI;Mail.WinJSAnimationSuppressor=function(){t.disableAnimations()};Mail.WinJSAnimationSuppressor.prototype.dispose=function(){t.enableAnimations()}})