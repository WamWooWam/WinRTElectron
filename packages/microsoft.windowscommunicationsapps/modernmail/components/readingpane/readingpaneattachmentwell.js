Jx.delayDefine(Mail,"ReadingPaneAttachmentWell",function(){"use strict";var t=Mail.ReadingPaneAttachmentWell=function(n,t){this._readingPane=t;this._rootId=n;this._attachmentWell=null;this._rootElement=null;this._isVisible=true;this._message=null;this._messageHook=null;this._disposer=new Mail.Disposer},n=".mailReadingPaneAttachmentWell";t.prototype={dispose:function(){this.clear();this._disposer.dispose()},_getElement:function(n){this._rootElement||(this._rootElement=document.getElementById(this._rootId));return this._rootElement.querySelector(n)},setMessage:function(n){this._message!==n&&(this._disposer.disposeNow(this._messageHook),this._messageHook=null,this._message=n,this.clear())},clear:function(){this._attachmentWell&&(this._attachmentWell.deactivateUI(),this._readingPane.removeChild(this._attachmentWell),this._attachmentWell=null)},update:function(){var t,r,u,i;this._disposer.disposeNow(this._messageHook);this._messageHook=null;this._isVisible&&(this.clear(),t=this._message,t.hasOrdinaryAttachments&&!t.isJunk?(r=t.platformMailMessage,u=this._getElement(Mail.ReadingPaneBody._Selectors.bodyWrapperSelector),this._attachmentWell=new AttachmentWell.Read.Module(r,u),this._readingPane.append(this._attachmentWell),i=this._getElement(n),i.classList.remove("hidden"),this._attachmentWell.initUI(i),WinJS.UI.Animation.createExpandAnimation(i).execute()):(this._getElement(n).classList.add("hidden"),this._messageHook=this._disposer.add(new Mail.EventHook(t,"changed",this._onMessageChanged,this))))},_onMessageChanged:function(n){Mail.Validators.hasPropertyChanged(n,"hasOrdinaryAttachments")&&!this._attachmentWell&&this.update()}}})