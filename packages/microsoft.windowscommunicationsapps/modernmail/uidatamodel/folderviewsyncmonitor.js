Jx.delayDefine(Mail,"FolderViewSyncMonitor",function(){"use strict";var r=Microsoft.WindowsLive.Platform,u=r.MailFolderType,i=Mail.ViewSyncMonitor,t=i.SyncStatus,f=Mail.FolderViewSyncMonitor=function(n){var t=this._folder=n.folder.platformMailFolder;i.call(this,n);this._disposer.add(new Mail.EventHook(t,"changed",this._onFolderChange,this))},n,e;Jx.inherit(f,i);n=f.prototype;e=[0,-2147483638,r.Result.e_NEXUS_SYNC_SYNCKEY];n._calculateSyncStatus=function(){var n=this._folder,i=n.hasSynced&&n.hasProcessedConversations&&n.syncStatus===0;return i||this._isLocalMailFolder()||n.selectionDisabled?t.completed:Mail.Utilities.ConnectivityMonitor.hasNoInternetConnection()?t.offline:e.indexOf(n.syncStatus)===-1||t.failed===this._getAccountSyncStatus()?t.failed:this._shouldSyncFolderContents()?t.syncing:t.notStarted};n._getLogString=function(){var n=this._folder;return"folder(id:"+n.objectId+",specialMailFolderType:"+n.specialMailFolderType+",isLocalMailFolder:"+n.isLocalMailFolder+",syncFolderContents:"+n.syncFolderContents+",selectionDisabled:"+n.selectionDisabled+",hasSynced:"+n.hasSynced+",hasProcessedConversations:"+n.hasProcessedConversations+",syncStatus:"+n.syncStatus+") "+this._getAccountLogString()};n._onFolderChange=function(n){Mail.Validators.havePropertiesChanged(n,["syncStatus","hasSynced","hasProcessedConversations","syncFolderContents"])&&this._queueUpdate()};n.getSyncWindow=function(){return this._isLocalMailFolder()?r.SyncWindowSize.all:i.prototype.getSyncWindow.call(this)};n._isLocalMailFolder=function(){var n=this._folder;return n.specialMailFolderType!==u.inbox&&n.isLocalMailFolder};n._shouldSyncFolderContents=function(){var n=this._folder;return n.specialMailFolderType===u.inbox||n.syncFolderContents}})