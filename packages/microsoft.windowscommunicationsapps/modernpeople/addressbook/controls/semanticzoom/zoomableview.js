Jx.delayDefine(People,"ZoomableView",function(){var n=window.People;n.ZoomableView=function(n,t,i,r){this._scrollingViewport=t;this._className=n;this._orientation=i;this._jobSet=r;this._activeElement=null;this._disposed=false;this.initComponent();var u=this._childHasUI=t.hasUI();u||this.appendChild(t);this.zoomableView=this};Jx.augment(n.ZoomableView,Jx.Component);n.ZoomableView.prototype.getPanAxis=function(){return this._orientation};n.ZoomableView.prototype.configureForZoom=function(n,t,i){this._disposed||(this._triggerZoom=i,this._isZoomedOut=n,this._jobSet.setVisibility(t))};n.ZoomableView.prototype.setCurrentItem=function(n,t){getComputedStyle(this._element).direction==="rtl"&&(n=this._element.clientWidth-n);var i={},r=this._orientation==="horizontal";i.scrollPos=r?n:t;i.orthoPos=r?t:n;this._scrollingViewport.setCurrentItem(i)};n.ZoomableView.prototype.getCurrentItem=function(){var n={section:0,groupIndex:0,itemIndex:0},t=this._scrollingViewport.getCurrentItem(n);return WinJS.Promise.wrap({item:n,position:this._toSemanticZoomPosition(t)})};n.ZoomableView.prototype.beginZoom=function(){this._scrollingViewport.beginZoom()};n.ZoomableView.prototype.positionItem=function(n){return this._scrollingViewport.positionItem(n),this._activeElement=document.activeElement,null};n.ZoomableView.prototype.endZoom=function(n){this._disposed||(this._jobSet.setVisibility(n),this._scrollingViewport.endZoom(n))};n.ZoomableView.prototype.getUI=function(n){var t="";this._childHasUI||(t=Jx.getUI(this._scrollingViewport).html);n.html="<div id='"+this._id+"' class='"+this._className+"'>"+t+"<\/div>"};n.ZoomableView.prototype.activateUI=function(){Jx.Component.prototype.activateUI.call(this);this._element=document.getElementById(this._id);this._element.winControl=this;this._element.addEventListener("focus",this._onFocusHandler=this._onFocus.bind(this),false);this._childHasUI&&(this.appendChild(this._scrollingViewport),this._element.appendChild(this._scrollingViewport.getElement()))};n.ZoomableView.prototype.shutdownComponent=function(){this._disposed=true;Jx.isFunction(this._onFocusHandler)&&(this._element.removeEventListener("focus",this._onFocusHandler,false),this._onFocusHandler=null);Jx.Component.prototype.shutdownComponent.call(this)};n.ZoomableView.prototype._toSemanticZoomPosition=function(n){return this._orientation==="horizontal"?{left:n.scrollPos,top:n.orthoPos}:{top:n.scrollPos,left:n.orthoPos}};n.ZoomableView.prototype.getTriggerZoom=function(){return this._triggerZoom};n.ZoomableView.prototype._onFocus=function(){if(this._activeElement)try{this._activeElement.setActive()}catch(n){Jx.log.exception("People.ZoomableView._onFocus: setActive throws exception",n)}}})