Jx.delayDefine(People,"ContactCard",function(){function n(n,t){var i=null;try{i=n.getWindowsContact()}catch(r){Jx.log.exception("People.ContactCard.getWindowsContact - Failed to get Contact from the platform for person: "+n.objectId,r)}return i&&(n.objectType==="SearchPerson"&&(i.thumbnail=null),i.providerProperties.insert("augmented",true),t&&i.providerProperties.insert("accountId",t.objectId)),i}var t=People,i=t.ContactCard={},r=Windows.ApplicationModel.Contacts,u=Windows.UI.Popups.Placement;i.show=function(t,i,f){var s,e,h,o;if(s=n(t,f),s){e=i.getBoundingClientRect();h={x:e.left,y:e.top,width:e.width,height:e.height};try{o=r.ContactManager.showDelayLoadedContactCard(s,h,u.below)}catch(c){Jx.log.exception("People.ContactCard.show - Call to showDelayLoadedContactCard failed",c)}o&&(Jx.log.info("Attempting to call augmentViaServerAsync on person: "+t.objectId),t.augmentViaServerAsync(false).done(function(){Jx.log.info("augmentViaServerAsync completed successfully for person: "+t.objectId);var i=n(t,f);i?o.setData(i):(Jx.log.error("People.ContactCard.show - Unable to get a valid contact object after augmentation for person: "+t.objectId),o.close())},function(n){Jx.log.exception("augmentViaServerAsync returned error for person: "+t.objectId,n);o.close()}))}else Jx.log.error("People.ContactCard.show - Unable to get a valid contact object for person: "+t.objectId)}})