Jx.delayDefine(People,["AlertDialog","Dialog","DialogEvents","DialogButton","FormDialog"],function(){var i=window.People,r=i.DialogEvents={opened:"People.DialogEvents.opened",closed:"People.DialogEvents.closed"},n,f,u,t;Object.freeze(r);n=i.Dialog=function(n,t,r){this.buttons=[];this._title=n;this._content=t;this._options=r||{headColor:"",headerIcon:"",titleColor:"",useAppTheme:false,fullscreen:false,form:false};this._overlay=new i.Overlay(this);this._escapeHandler=null;this._role="dialog";$include("$(cssResources)/"+Jx.getAppNameFromId(Jx.appId)+"Dialog.css")};Jx.inherit(n,Jx.Events);Jx.augment(n,Jx.Component);n.prototype.show=function(n,t){return(this.append.apply(this,this.buttons),this.appendChild(this._content),this.initComponent(),this._overlay.show(t))?(n&&(this._escapeHandler=function(n){n.key==="Esc"&&this.close()},this._overlay.addListener("keyup",this._escapeHandler,this)),Jx.EventManager.broadcast(r.opened),this.raiseEvent("opened"),true):false};n.prototype.close=function(){this._closed||(this._closed=true,this._escapeHandler&&(this._overlay.removeListener("keyup",this._escapeHandler,this),this._escapeHandler=null),this._overlay.close(),Jx.EventManager.broadcast(r.closed),this.raiseEvent("closed"))};n.prototype.isShowing=function(){return this._overlay.isShowing()};n.prototype.canShow=function(){return this._overlay.canShow()};n.prototype.closeActive=function(){return this._overlay.closeActive()};n.prototype.reserveNextShowing=function(){return this._overlay.reserveNextShowing()};n.prototype.cancelReservation=function(){return this._overlay.cancelReservation()};n.prototype.updateTitle=function(n){var t,i;this._title=n;t=document.getElementById("dlg-box");Jx.isHTMLElement(t)&&t.setAttribute("aria-label",n);i=t.querySelector("#dlg-title");Jx.isHTMLElement(i)&&(i.innerText=n)};n.prototype.getUI=function(n){n.html="<div id='dlg-box' class='"+(this._options.fullscreen?"fullscreen":"")+"' role='"+this._role+"' aria-describedby='dlgDescription' aria-label='"+Jx.escapeHtml(this._title)+"'><div class='dlg-band'><\/div>"+(this._options.form?"<form id='dlg-form' class='dlg-content' novalidate>":"<div id='dlg-contentPanel' class='dlg-content'>")+"<div id='dlg-header' class='row1'><div id='dlg-title' class='singleLineText' role='heading'>"+Jx.escapeHtml(this._title)+"<\/div><div id='dlg-headerIcon'><\/div><\/div><div id='dlg-body' class='row2'><div class='dlg-inner-content'>"+Jx.getUI(this._content).html+"<\/div><\/div><div id='dlg-footer' class='row3'><div class='dlg-inner-content'>"+this.buttons.reduce(function(n,t){return n+Jx.getUI(t).html},"")+"<\/div><\/div>"+(this._options.form?"<\/form>":"<\/div>")+"<div class='dlg-band'><\/div><\/div>"};n.prototype.activateUI=function(){var t=document.getElementById("dlg-header"),i=document.getElementById("dlg-headerIcon"),n=this._options;n.useAppTheme?Jx.addClass(t,"appThemedHeader"):(Jx.isNonEmptyString(n.headerColor)&&(Jx.addClass(t,"customizedHeader"),t.style.backgroundColor=n.headerColor),Jx.isNonEmptyString(n.titleColor)&&(t.style.color=n.titleColor),Jx.isNonEmptyString(n.headerIcon)?(i.style.backgroundImage="url("+n.headerIcon+")",Jx.addClass(t,"customizedHeader")):Jx.addClass(i,"hidden"));Jx.Component.prototype.activateUI.call(this)};n.prototype.shutdownUI=function(){this._content.shutdownUI();Jx.Component.prototype.shutdownUI.call(this)};f=i.AlertDialog=function(n,t,r){i.Dialog.call(this,n,t,r);this._role="alertdialog"};Jx.inherit(f,n);u=i.FormDialog=function(n,t,r){r.form=true;this._submitHandler=null;i.Dialog.call(this,n,t,r)};Jx.inherit(u,n);u.prototype.activateUI=function(){var t=document.getElementById("dlg-form");t&&t.addEventListener("submit",function(n){this.raiseEvent("submit");n.preventDefault()}.bind(this),false);n.prototype.activateUI.call(this)};t=i.DialogButton=function(n,t,i){this._idButton=n;this._label=t;this._type=i||"button";this._autofocus=false;this.initComponent()};Jx.inherit(t,Jx.Events);Jx.augment(t,Jx.Component);t.prototype.getUI=function(n){n.html="<input class='dlg-button singleLineText' id='"+this._idButton+"' value='"+Jx.escapeHtml(this._label)+"'/>"};t.prototype.activateUI=function(){var n=this._button=document.getElementById(this._idButton);n.type=this._type;n.addEventListener("click",function(t){this.raiseEvent("click");n.type==="submit"&&t.preventDefault()}.bind(this),false);n.addEventListener("keydown",this.raiseEvent.bind(this,"keydown"),false);n.addEventListener("keyup",this.raiseEvent.bind(this,"keyup"),false);this._autofocus&&Jx.safeSetActive(n);Jx.Component.prototype.activateUI.call(this)};t.prototype.hide=function(n){Jx.setClass(this._button,"hidden",n)};t.prototype.focus=function(){Jx.safeSetActive(this._button)};Object.defineProperty(t.prototype,"disabled",{get:function(){return this._button.disabled},set:function(n){this._button.disabled=n}});Object.defineProperty(t.prototype,"autofocus",{get:function(){return this._autofocus},set:function(n){this._autofocus=n}});Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(n){this._type=n;this._button.type=n}});Object.defineProperty(t.prototype,"value",{get:function(){return this._label},set:function(n){this._label=n;this._button.value=n}});i.CloseButton=function(n,i,r){t.call(this,n,i);this.addListener("click",r.close,r);this.addListener("keydown",function(n){(n.key==="Spacebar"||n.key==="Enter")&&n.preventDefault()});this.addListener("keyup",function(n){(n.key==="Spacebar"||n.key==="Enter")&&(n.stopPropagation(),r.close())},r)};Jx.inherit(i.CloseButton,t)})