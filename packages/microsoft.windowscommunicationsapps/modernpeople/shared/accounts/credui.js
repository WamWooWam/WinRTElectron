Jx.delayDefine(People.Accounts,["getUserAuthTokenAsync","showCredUIAsync"],function(){var r=window.People,i=r.Accounts,n=Windows.Security.Authentication.OnlineId,u=Microsoft.WindowsLive.Platform.Result,t;i.getUserAuthTokenAsync=function(i,r){t(n.CredentialPromptType.doNotPrompt,i,r)};i.showCredUIAsync=function(i,r,u,f){t(n.CredentialPromptType.promptIfNeeded,i,r,u,f)};t=function(t,i,r,f,e){var o=new n.OnlineIdAuthenticator,s=e===u.defaultAccountDoesNotExist?"startup.live.com":"ssl.live.com",h=new n.OnlineIdServiceTicketRequest(s,"MBI_SSL");o.authenticateUserAsync([h],t).done(function(n){Jx.log.info("authenticateUserAsync() success");n.tickets&&n.tickets[0].value!==""?i(n.tickets[0].value):r()},function(n){Jx.isNumber(n.number)?r(n.number):(Jx.log.info("authenticateUserAsync() cancelled"),f&&f())})}})