Jx.delayDefine(People,"Location",function(){function f(n){var t=0;return n.street&&(t+=7),n.zipCode&&(t+=2),n.city&&(t+=2),n.state&&(t+=1),n.country&&(t+=1),t}var r=window.People,n=r.Compare,t=r.Location={},u,i;t.compare=function(t,i){var r,h,l,c,a,o,f,e,s;if(t===null&&i===null)return n.equal;if(t===null&&i!==null)return n.subset;if(i===null&&t!==null)return n.superset;for(r=n.equal,h=[],h.push(t.street,t.city,t.zipCode,t.country),l=h.length,c=[],c.push(i.street,i.city,i.zipCode,i.country),a=c.length,o=0;o<l;o++)if(f=h[o],f=f===null?"":f.trim().toLowerCase(),e=c[o],e=e===null?"":e.trim().toLowerCase(),f===e)continue;else if(f.indexOf(e)!==-1)if(r===n.subset){r=n.different;break}else r=n.superset;else if(e.indexOf(f)!==-1)if(r===n.superset){r=n.different;break}else r=n.subset;else{r=n.different;break}return r!==n.different&&(s=u(t.state,i.state),s===n.different?r=n.different:r===n.subset&&s===n.superset||r===n.superset&&s===n.subset?r=n.different:r===n.equal&&(r=s)),r};u=function(t,r){if(t===null&&(t=""),r===null&&(r=""),t=t.toLowerCase(),r=r.toLowerCase(),t===r)return n.equal;if(t===""&&r!=="")return n.subset;if(r===""&&t!=="")return n.superset;var u=i[t]||t,f=i[r]||r;return u===f?n.equal:n.different};i={al:"alabama",ak:"alaska",az:"arizona",ar:"arkansas",ca:"california",co:"colorado",ct:"connecticut",de:"delaware",dc:"district of columbia",fl:"florida",ga:"georgia",hi:"hawaii",id:"idaho",il:"illinois","in":"indiana",ia:"iowa",ks:"kansas",ky:"kentucky",la:"louisiana",me:"maine",md:"maryland",ma:"massachusetts",mi:"michigan",mn:"minnesota",ms:"mississippi",mo:"missouri",mt:"montana",ne:"nebraska",nv:"nevada",nh:"new hampshire",nj:"new jersey",nm:"new mexico",ny:"new york",nc:"north carolina",nd:"north dakota",oh:"ohio",ok:"oklahoma",or:"oregon",pa:"pennsylvania",ri:"rhode island",sc:"south carolina",sd:"south dakota",tn:"tennessee",tx:"texas",ut:"utah",vt:"vermont",wa:"washington",wv:"west virginia",wi:"wisconsin",wy:"wyoming"};t.isValid=function(n){return Jx.isObject(n)&&Jx.isNonEmptyString(n.street||n.city||n.state||n.country||n.zipCode)};t.getBestLocation=function(n){var i=null,r=0;return n.forEach(function(n){if(i){var u=f(n.value);r<u&&(i=n,r=u)}else i=n,r=f(i.value)}),i};t.chooseBestDisplayField=function(n){var t="";return Jx.isNullOrUndefined(n)||(t=n.street||n.city||n.zipCode||n.state||n.country||""),t.replace(/[\r\n]+/g," ")};t.isIdentical=function(n){return n.street===this.street&&n.city===this.city&&n.zipCode===this.zipCode&&n.state===this.state&&n.country===this.country}})