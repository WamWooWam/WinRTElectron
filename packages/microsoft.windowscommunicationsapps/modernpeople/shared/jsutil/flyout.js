Jx.delayDefine(People,"Flyout",function(){var n=window.People;n.Flyout=function(n){var t,i;t=this._flyoutElement=document.createElement("div");t.className="flyoutMenu";this._flyout=new WinJS.UI.Flyout(t);this._itemListeners=[];i=this._itemsContainer=document.createElement("div");n.forEach(function(n,t){this._addFlyoutItem(n,t)},this);this._keyboardNavigation=new Jx.KeyboardNavigation(i,"vertical",null,null,1);t.appendChild(i)};n.Flyout.prototype._addFlyoutItem=function(n){var t=document.createElement("div"),i;t.id="flyoutMenu-item-"+n.id;t.innerHTML=n.name||n.html;t.tabIndex=-1;t.className="flyoutMenu-item"+(n.selected?" selected-item":"");i=function(){this._flyout.hide();n.onItemSelected()}.bind(this);this._itemListeners.push(new Jx.Clicker(t,i));this._itemsContainer.appendChild(t)};n.Flyout.prototype.getFlyoutElement=function(){return this._flyoutElement};n.Flyout.prototype.show=function(n,t,i,r){var u=function(){var n=this._itemsContainer.querySelector(".selected-item");Jx.isNullOrUndefined(n)||n.focus()}.bind(this);this._flyout.addEventListener("aftershow",u);this._flyout.addEventListener("afterhide",function(){r()});document.body.appendChild(this._flyoutElement);this._flyout.show(n,t,i)};n.Flyout.prototype.dispose=function(){this._itemListeners.forEach(function(n){Jx.dispose(n)});Jx.dispose(this._keyboardNavigation);document.body.removeChild(this._flyoutElement)}})