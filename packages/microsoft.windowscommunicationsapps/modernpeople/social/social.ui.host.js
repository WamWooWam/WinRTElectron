//! Copyright (c) Microsoft Corporation. All rights reserved.
Jx.delayDefine(People.RecentActivity.UI.Host,["LandingPagePanelProvider","WhatsNewHostedControl","NotificationHostedControl","SelfPageHostedControl","PhotosHostedControl","RAHostedControl"],function(){People.loadSocialModel();People.loadSocialUICore();People.Social.loadUtilities();People.RecentActivity.UI.Host.HostedControlSuspensionScenario={suspension:0,navigateBack:1,navigateForward:2};People.RecentActivity.UI.Host.create_whatsNewHostedControlImplState=function(n,t,i){var r={};return r.itemStateId=n,r.markupStateId=t,r.state=i,r};People.RecentActivity.UI.Host.PanelProvider=function(){};People.RecentActivity.UI.Host.PanelProvider.prototype._impl=null;People.RecentActivity.UI.Host.PanelProvider.prototype._host=null;People.RecentActivity.UI.Host.PanelProvider.prototype._person=null;People.RecentActivity.UI.Host.PanelProvider.prototype._fields=null;Object.defineProperty(People.RecentActivity.UI.Host.PanelProvider.prototype,"host",{get:function(){return this._host}});Object.defineProperty(People.RecentActivity.UI.Host.PanelProvider.prototype,"person",{get:function(){return this._person}});Object.defineProperty(People.RecentActivity.UI.Host.PanelProvider.prototype,"fields",{get:function(){return this._fields}});People.RecentActivity.UI.Host.PanelProvider.prototype.load=function(n,t,i,r){this._impl!=null&&this.unload();this._host=n;this._person=t;this._fields=i;this._impl=this.onLoad();this._impl.load(r)};People.RecentActivity.UI.Host.PanelProvider.prototype.unload=function(){this.onUnload()};People.RecentActivity.UI.Host.PanelProvider.prototype.suspend=function(n){this.onSuspend(n)};People.RecentActivity.UI.Host.PanelProvider.prototype.onUnload=function(){this._impl!=null&&(this._impl.unload(),this._impl=null);this._fields=null;this._person=null;this._host=null};People.RecentActivity.UI.Host.PanelProvider.prototype.onSuspend=function(n){this._impl!=null&&this._impl.suspend(n)};People.RecentActivity.UI.Host.LandingPagePanelProvider=function(){People.RecentActivity.UI.Host.PanelProvider.call(this)};Jx.inherit(People.RecentActivity.UI.Host.LandingPagePanelProvider,People.RecentActivity.UI.Host.PanelProvider);People.RecentActivity.UI.Host.LandingPagePanelProvider.prototype.onLoad=function(){return new People.RecentActivity.UI.Host.LandingPagePanelProviderImpl(this.host,this.person,this.fields)};People.RecentActivity.UI.Host.PanelProviderImpl=function(n,t,i){this._host=n;this._person=t;this._fields=i};People.RecentActivity.UI.Host.PanelProviderImpl.prototype._host=null;People.RecentActivity.UI.Host.PanelProviderImpl.prototype._person=null;People.RecentActivity.UI.Host.PanelProviderImpl.prototype._fields=null;Object.defineProperty(People.RecentActivity.UI.Host.PanelProviderImpl.prototype,"host",{get:function(){return this._host}});Object.defineProperty(People.RecentActivity.UI.Host.PanelProviderImpl.prototype,"person",{get:function(){return this._person}});Object.defineProperty(People.RecentActivity.UI.Host.PanelProviderImpl.prototype,"fields",{get:function(){return this._fields}});People.RecentActivity.UI.Host.PanelProviderImpl.prototype.suspend=function(){};People.RecentActivity.UI.Host.LandingPagePanelProviderImpl=function(n,t,i){People.RecentActivity.UI.Host.PanelProviderImpl.call(this,n,t,i)};Jx.inherit(People.RecentActivity.UI.Host.LandingPagePanelProviderImpl,People.RecentActivity.UI.Host.PanelProviderImpl);People.RecentActivity.UI.Host.LandingPagePanelProviderImpl._feedHydrationKey$1="FeedPanel";People.RecentActivity.UI.Host.LandingPagePanelProviderImpl._photosHydrationKey$1="PhotosPanel";People.RecentActivity.UI.Host.LandingPagePanelProviderImpl._notificationsHydrationKey$1="NotificationsPanel";People.RecentActivity.UI.Host.LandingPagePanelProviderImpl.prototype._identity$1=null;People.RecentActivity.UI.Host.LandingPagePanelProviderImpl.prototype._panelFeed$1=null;People.RecentActivity.UI.Host.LandingPagePanelProviderImpl.prototype._panelPhoto$1=null;People.RecentActivity.UI.Host.LandingPagePanelProviderImpl.prototype._panelNotification$1=null;People.RecentActivity.UI.Host.LandingPagePanelProviderImpl.prototype.load=function(n){if(this._identity$1=People.RecentActivity.Identity.createFromDataContext(this.person,this.fields),this._identity$1!=null){this._identity$1.capabilities.addListener("propertychanged",this._onCapabilityPropertyChanged$1,this);var t=null,i=null,r=null;n!=null&&(t=n.FeedPanel,i=n.NotificationsPanel,r=n.PhotosPanel);this._addOrRemoveFeedPanel$1(t);this._addOrRemoveNotificationPanel$1(i);this._addOrRemovePhotosPanel$1(r)}};People.RecentActivity.UI.Host.LandingPagePanelProviderImpl.prototype.unload=function(){this._panelFeed$1=null;this._panelNotification$1=null;this._panelPhoto$1=null;this._identity$1!=null&&(this._identity$1.capabilities.removeListenerSafe("propertychanged",this._onCapabilityPropertyChanged$1,this),this._identity$1.dispose(),this._identity$1=null)};People.RecentActivity.UI.Host.LandingPagePanelProviderImpl.prototype.suspend=function(n){this._panelFeed$1!=null&&(n.FeedPanel=this._panelFeed$1.suspend());this._panelNotification$1!=null&&(n.NotificationsPanel=this._panelNotification$1.suspend());this._panelPhoto$1!=null&&(n.PhotosPanel=this._panelPhoto$1.suspend());People.RecentActivity.UI.Host.PanelProviderImpl.prototype.suspend.call(this,n)};People.RecentActivity.UI.Host.LandingPagePanelProviderImpl.prototype._addOrRemoveFeedPanel$1=function(n){this._identity$1.capabilities.canShowWhatsNew?this._panelFeed$1==null&&(this._panelFeed$1=new People.RecentActivity.UI.Feed.FeedPanel(this._identity$1,this.fields,n),this.host.addPanel(this._panelFeed$1)):this._panelFeed$1!=null&&(this.host.removePanel(this._panelFeed$1.id),this._panelFeed$1=null)};People.RecentActivity.UI.Host.LandingPagePanelProviderImpl.prototype._addOrRemoveNotificationPanel$1=function(n){this._identity$1.capabilities.canShowNotifications?this._panelNotification$1==null&&(this._panelNotification$1=new People.RecentActivity.UI.Notifications.NotificationPanel(this._identity$1,n),this.host.addPanel(this._panelNotification$1)):this._panelNotification$1!=null&&(this.host.removePanel(this._panelNotification$1.id),this._panelNotification$1=null)};People.RecentActivity.UI.Host.LandingPagePanelProviderImpl.prototype._addOrRemovePhotosPanel$1=function(n){this._identity$1.capabilities.canShowPhotos?this._panelPhoto$1==null&&(this._panelPhoto$1=new People.RecentActivity.UI.Photos.PhotoAlbumsPanel(this._identity$1,n),this.host.addPanel(this._panelPhoto$1)):this._panelPhoto$1!=null&&(this.host.removePanel(this._panelPhoto$1.id),this._panelPhoto$1=null)};People.RecentActivity.UI.Host.LandingPagePanelProviderImpl.prototype._onCapabilityPropertyChanged$1=function(n){switch(n.propertyName){case"CanShowWhatsNew":this._addOrRemoveFeedPanel$1(null);break;case"CanShowPhotos":this._addOrRemovePhotosPanel$1(null);break;case"CanShowNotifications":this._addOrRemoveNotificationPanel$1(null)}};People.RecentActivity.UI.Host.HostedControl=function(n,t){this._host=n;this._options=t;this.onLoadResources()};People.RecentActivity.UI.Host.HostedControl.prototype._host=null;People.RecentActivity.UI.Host.HostedControl.prototype._options=null;People.RecentActivity.UI.Host.HostedControl.prototype._impl=null;Object.defineProperty(People.RecentActivity.UI.Host.HostedControl.prototype,"host",{get:function(){return this._host}});Object.defineProperty(People.RecentActivity.UI.Host.HostedControl.prototype,"options",{get:function(){return this._options}});People.RecentActivity.UI.Host.HostedControl.prototype.load=function(n){return this._impl!=null&&this.unload(),this._impl=this.onLoad(n),this._impl.getAnimationData()};People.RecentActivity.UI.Host.HostedControl.prototype.prepareSaveBackState=function(){return this.onPrepareSaveBackState()};People.RecentActivity.UI.Host.HostedControl.prototype.prepareSuspension=function(){return this.onPrepareSuspension()};People.RecentActivity.UI.Host.HostedControl.prototype.prepareSaveState=function(){return this.onPrepareSaveState()};People.RecentActivity.UI.Host.HostedControl.prototype.activate=function(){return this._impl.render(),this.onActivate(),true};People.RecentActivity.UI.Host.HostedControl.prototype.scrollToBeginning=function(){this._impl.scrollToBeginning()};People.RecentActivity.UI.Host.HostedControl.prototype.deactivate=function(){return this.onDeactivate()};People.RecentActivity.UI.Host.HostedControl.prototype.unload=function(){this.onUnload();this._impl!=null&&(this._impl.dispose(),this._impl=null)};People.RecentActivity.UI.Host.HostedControl.prototype.save=function(){return this.onSave()};People.RecentActivity.UI.Host.HostedControl.prototype.hasFilter=function(){return this.onHasFilter()};People.RecentActivity.UI.Host.HostedControl.prototype.getCurrentFilterName=function(){return this.onGetCurrentFilterName()};People.RecentActivity.UI.Host.HostedControl.prototype.getFilterItems=function(){return this.onGetFilterItems()};People.RecentActivity.UI.Host.HostedControl.prototype.onLoadResources=function(){};People.RecentActivity.UI.Host.HostedControl.prototype.onActivate=function(){};People.RecentActivity.UI.Host.HostedControl.prototype.onDeactivate=function(){return this._impl.deactivate()};People.RecentActivity.UI.Host.HostedControl.prototype.onPrepareSuspension=function(){return this._impl!=null?this._impl.prepareSaveState(0):null};People.RecentActivity.UI.Host.HostedControl.prototype.onPrepareSaveState=function(){return this._impl!=null?this._impl.prepareSaveState(1):null};People.RecentActivity.UI.Host.HostedControl.prototype.onPrepareSaveBackState=function(){return this._impl!=null?this._impl.prepareSaveState(2):null};People.RecentActivity.UI.Host.HostedControl.prototype.onSave=function(){return false};People.RecentActivity.UI.Host.HostedControl.prototype.onUnload=function(){};People.RecentActivity.UI.Host.HostedControl.prototype.onHasFilter=function(){return this._impl!=null&&this._impl.hasFilter()};People.RecentActivity.UI.Host.HostedControl.prototype.onGetCurrentFilterName=function(){return this._impl!=null?this._impl.getCurrentFilterName():null};People.RecentActivity.UI.Host.HostedControl.prototype.onGetFilterItems=function(){return this._impl!=null?this._impl.getFilterItems():null};People.RecentActivity.UI.Host.NotificationHostedControl=function(n,t){People.RecentActivity.UI.Host.HostedControl.call(this,n,t)};Jx.inherit(People.RecentActivity.UI.Host.NotificationHostedControl,People.RecentActivity.UI.Host.HostedControl);People.RecentActivity.UI.Host.NotificationHostedControl.prototype.onLoad=function(n){return new People.RecentActivity.UI.Host.NotificationHostedControlImpl(n)};People.RecentActivity.UI.Host.HostedControlImpl=function(n){this._data=n;switch(this._data.mode){case"load":this.onInitialize(this._deserializeState(this._data.state));break;case"hydrate":this.onInitialize(this._deserializeState(this._data.context));break;case"linked":this.onInitializeFromLinked()}};People.RecentActivity.UI.Host.HostedControlImpl.prototype._data=null;People.RecentActivity.UI.Host.HostedControlImpl.prototype._disposed=false;People.RecentActivity.UI.Host.HostedControlImpl.prototype._rendered=false;People.RecentActivity.UI.Host.HostedControlImpl.prototype._state=null;People.RecentActivity.UI.Host.HostedControlImpl.prototype._stateScenario=0;Object.defineProperty(People.RecentActivity.UI.Host.HostedControlImpl.prototype,"data",{get:function(){return this._data}});Object.defineProperty(People.RecentActivity.UI.Host.HostedControlImpl.prototype,"isDisposed",{get:function(){return this._disposed}});People.RecentActivity.UI.Host.HostedControlImpl.prototype.dispose=function(){this._disposed||(this._disposed=true,People.RecentActivity.UI.Core.GlobalProgressControl.reset(),this.onDispose())};People.RecentActivity.UI.Host.HostedControlImpl.prototype.prepareSaveState=function(n){return(this._state==null&&(this._state=this._serializeState(this.onPrepareSaveState(n)),this._stateScenario=n),n===this._stateScenario)?this._state:null};People.RecentActivity.UI.Host.HostedControlImpl.prototype.getAnimationData=function(){return this.onGetAnimationData()};People.RecentActivity.UI.Host.HostedControlImpl.prototype.render=function(){this._rendered||(this._rendered=true,this.onRender())};People.RecentActivity.UI.Host.HostedControlImpl.prototype.deactivate=function(){return People.RecentActivity.UI.Core.GlobalProgressControl.reset(),this.onDeactivate()};People.RecentActivity.UI.Host.HostedControlImpl.prototype.scrollToBeginning=function(){this.resetScrollPosition()};People.RecentActivity.UI.Host.HostedControlImpl.prototype.hasFilter=function(){return this.onHasFilter()};People.RecentActivity.UI.Host.HostedControlImpl.prototype.getCurrentFilterName=function(){return this.onGetCurrentFilterName()};People.RecentActivity.UI.Host.HostedControlImpl.prototype.getFilterItems=function(){return this.onGetFilterItems()};People.RecentActivity.UI.Host.HostedControlImpl.prototype.resetScrollPosition=function(){};People.RecentActivity.UI.Host.HostedControlImpl.prototype.onDispose=function(){};People.RecentActivity.UI.Host.HostedControlImpl.prototype.onInitialize=function(){};People.RecentActivity.UI.Host.HostedControlImpl.prototype.onInitializeFromLinked=function(){};People.RecentActivity.UI.Host.HostedControlImpl.prototype.onPrepareSaveState=function(){return null};People.RecentActivity.UI.Host.HostedControlImpl.prototype.onGetAnimationData=function(){return null};People.RecentActivity.UI.Host.HostedControlImpl.prototype.onRender=function(){};People.RecentActivity.UI.Host.HostedControlImpl.prototype.onDeactivate=function(){return true};People.RecentActivity.UI.Host.HostedControlImpl.prototype.onHasFilter=function(){return false};People.RecentActivity.UI.Host.HostedControlImpl.prototype.onGetCurrentFilterName=function(){return null};People.RecentActivity.UI.Host.HostedControlImpl.prototype.onGetFilterItems=function(){return null};People.RecentActivity.UI.Host.HostedControlImpl.prototype._serializeState=function(n){return n!=null?JSON.stringify(n):null};People.RecentActivity.UI.Host.HostedControlImpl.prototype._deserializeState=function(n){if(n!=null)try{return JSON.parse(n)}catch(t){}return null};People.RecentActivity.UI.Host.NotificationHostedControlImpl=function(n){People.RecentActivity.UI.Host.HostedControlImpl.call(this,n)};Jx.inherit(People.RecentActivity.UI.Host.NotificationHostedControlImpl,People.RecentActivity.UI.Host.HostedControlImpl);People.RecentActivity.UI.Host.NotificationHostedControlImpl.prototype._layout$1=null;People.RecentActivity.UI.Host.NotificationHostedControlImpl.prototype.onDispose=function(){this._layout$1.dispose();this._layout$1=null};People.RecentActivity.UI.Host.NotificationHostedControlImpl.prototype.onInitialize=function(n){this._initialize$1(n)};People.RecentActivity.UI.Host.NotificationHostedControlImpl.prototype.onPrepareSaveState=function(n){return n!==1?this._layout$1.getState():null};People.RecentActivity.UI.Host.NotificationHostedControlImpl.prototype.onRender=function(){this._layout$1.render()};People.RecentActivity.UI.Host.NotificationHostedControlImpl.prototype.onGetAnimationData=function(){return{elements:[]}};People.RecentActivity.UI.Host.NotificationHostedControlImpl.prototype.onDeactivate=function(){return this._layout$1.deactivate(),People.RecentActivity.UI.Host.HostedControlImpl.prototype.onDeactivate.call(this)};People.RecentActivity.UI.Host.NotificationHostedControlImpl.prototype._initialize$1=function(n){this._layout$1=new People.RecentActivity.UI.Notifications.NotificationLayout(People.RecentActivity.Identity.createMeIdentity(),this.data.element);this._layout$1.initialize(n)};People.RecentActivity.UI.Host.PhotosHostedControl=function(n,t){People.RecentActivity.UI.Host.HostedControl.call(this,n,t)};Jx.inherit(People.RecentActivity.UI.Host.PhotosHostedControl,People.RecentActivity.UI.Host.HostedControl);People.RecentActivity.UI.Host.PhotosHostedControl.prototype.onLoad=function(n){return new People.RecentActivity.UI.Host.PhotosHostedControlImpl(n)};People.RecentActivity.UI.Host.PhotosHostedControlImpl=function(n){People.RecentActivity.UI.Host.HostedControlImpl.call(this,n)};Jx.inherit(People.RecentActivity.UI.Host.PhotosHostedControlImpl,People.RecentActivity.UI.Host.HostedControlImpl);People.RecentActivity.UI.Host.PhotosHostedControlImpl.prototype._identity$1=null;People.RecentActivity.UI.Host.PhotosHostedControlImpl.prototype._layout$1=null;People.RecentActivity.UI.Host.PhotosHostedControlImpl.prototype.onDispose=function(){this._layout$1.dispose();this._layout$1=null;this._identity$1.dispose();this._identity$1=null};People.RecentActivity.UI.Host.PhotosHostedControlImpl.prototype.onInitialize=function(n){this._initialize$1(n)};People.RecentActivity.UI.Host.PhotosHostedControlImpl.prototype.onInitializeFromLinked=function(){this._initialize$1(null)};People.RecentActivity.UI.Host.PhotosHostedControlImpl.prototype.onPrepareSaveState=function(n){return n!==1?this._layout$1.getState():null};People.RecentActivity.UI.Host.PhotosHostedControlImpl.prototype.onRender=function(){this._layout$1.render()};People.RecentActivity.UI.Host.PhotosHostedControlImpl.prototype._initialize$1=function(n){var t=this.data;this._identity$1=People.RecentActivity.Identity.createFromDataContext(t.data,t.fields);this._layout$1=new People.RecentActivity.UI.Photos.PhotoAlbumsLayout(this._identity$1,t.element);this._layout$1.initialize(n)};People.RecentActivity.UI.Host.RAHostedControl=function(n,t){People.RecentActivity.UI.Host.HostedControl.call(this,n,t)};Jx.inherit(People.RecentActivity.UI.Host.RAHostedControl,People.RecentActivity.UI.Host.HostedControl);People.RecentActivity.UI.Host.RAHostedControl.prototype.onLoad=function(n){return new People.RecentActivity.UI.Host.RAHostedControlImpl(n)};People.RecentActivity.UI.Host.RAHostedControlImpl=function(n){People.RecentActivity.UI.Host.HostedControlImpl.call(this,n)};Jx.inherit(People.RecentActivity.UI.Host.RAHostedControlImpl,People.RecentActivity.UI.Host.HostedControlImpl);People.RecentActivity.UI.Host.RAHostedControlImpl.prototype._identity$1=null;People.RecentActivity.UI.Host.RAHostedControlImpl.prototype._layout$1=null;People.RecentActivity.UI.Host.RAHostedControlImpl.prototype.onGetAnimationData=function(){return this._layout$1.getAnimationData()};People.RecentActivity.UI.Host.RAHostedControlImpl.prototype.onDispose=function(){this._layout$1.dispose();this._layout$1=null;this._identity$1.dispose();this._identity$1=null};People.RecentActivity.UI.Host.RAHostedControlImpl.prototype.onInitialize=function(n){this._initialize$1(n)};People.RecentActivity.UI.Host.RAHostedControlImpl.prototype.onInitializeFromLinked=function(){this._initialize$1(null)};People.RecentActivity.UI.Host.RAHostedControlImpl.prototype.onPrepareSaveState=function(n){var t=true,i=null,r=null,u;switch(n){case 2:case 0:r=this._layout$1.getState();i=this._layout$1.getMarkupState();t=false}return u=this._layout$1.getItemState(t),People.RecentActivity.UI.Host.create_whatsNewHostedControlImplState(u,i,r)};People.RecentActivity.UI.Host.RAHostedControlImpl.prototype.onRender=function(){this._layout$1.render()};People.RecentActivity.UI.Host.RAHostedControlImpl.prototype._initialize$1=function(n){var t=n,i=this.data;this._identity$1=People.RecentActivity.Identity.createFromDataContext(i.data,i.fields);this._layout$1=new People.RecentActivity.UI.Feed.FeedLayout(this._identity$1,i.element);this._layout$1.initialize(t!=null?t.state:null,t!=null?t.itemStateId:null,t!=null?t.markupStateId:null)};People.RecentActivity.UI.Host.SelfPageHostedControl=function(n,t){People.RecentActivity.UI.Host.HostedControl.call(this,n,t)};Jx.inherit(People.RecentActivity.UI.Host.SelfPageHostedControl,People.RecentActivity.UI.Host.HostedControl);People.RecentActivity.UI.Host.SelfPageHostedControl.prototype.onLoad=function(n){return new People.RecentActivity.UI.Host.SelfPageHostedControlImpl(n)};People.RecentActivity.UI.Host.SelfPageHostedControlImpl=function(n){People.RecentActivity.UI.Host.HostedControlImpl.call(this,n)};Jx.inherit(People.RecentActivity.UI.Host.SelfPageHostedControlImpl,People.RecentActivity.UI.Host.HostedControlImpl);People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._selfpage$1=null;People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._identity$1=null;People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._network$1=null;People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._obj$1=null;People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._initialized$1=false;People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._rendered$1=false;People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._selfpageInitialized$1=false;People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._hydrationData$1=null;People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._isEnterComplete$1=false;People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._onEnterCompleteCallback$1=null;People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._isAborted=false;People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype.onDispose=function(){this._selfpage$1!=null&&(this._selfpage$1.dispose(),this._selfpage$1=null);this._network$1!=null&&(this._network$1.removeListenerSafe("getobjectcompleted",this._onGetObjectCompleted$1,this),this._network$1=null);this._identity$1!=null&&(this._identity$1.dispose(),this._identity$1=null);this._hydrationData$1=null;People.RecentActivity.UI.Host.HostedControlImpl.prototype.onDispose.call(this)};People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype.onInitialize=function(n){this._hydrationData$1=n;this._initializeInternal$1();People.RecentActivity.UI.Host.HostedControlImpl.prototype.onInitialize.call(this,n)};People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype.onInitializeFromLinked=function(){this._initializeInternal$1();People.RecentActivity.UI.Host.HostedControlImpl.prototype.onInitializeFromLinked.call(this)};People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype.onPrepareSaveState=function(n){return n!==1&&this._selfpage$1!=null?this._selfpage$1.getState():null};People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype.onGetAnimationData=function(){if(this._selfpage$1!=null){var n=this._selfpage$1.getAnimationData();return this._onEnterCompleteCallback$1=n.onEnterComplete,n.onEnterComplete=this._onEnterComplete$1.bind(this),n}return People.RecentActivity.Imports.create_contentAnimationData([],this._onEnterComplete$1.bind(this))};People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype.onRender=function(){this._rendered$1=true;this._renderInternal$1();People.RecentActivity.UI.Host.HostedControlImpl.prototype.onRender.call(this)};People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._initializeInternal$1=function(){Jx.log.write(4,"SelfPageHostedControlImpl::InitializeInternal()");People.RecentActivity.UI.Core.GlobalProgressControl.add(this);var r=this.data,n=r.fields,t=n.networkId,i=n.objectId,u=parseInt(n.objectType);if(People.RecentActivity.Core.EtwHelper.writeSelfPageEvent(People.RecentActivity.Core.EtwEventName.uiSelfPageStart,i),!Jx.isNonEmptyString(t)||!Jx.isNonEmptyString(i)||u===People.RecentActivity.FeedObjectType.none){Jx.log.write(2,"One or more parameters are missing.");this._navigateBack$1(People.RecentActivity.UI.Core.SelfPageNavigationHelper.navigateBack);return}if(this._identity$1=n.isWhatsNew?People.RecentActivity.Identity.createWhatsNewIdentity():People.RecentActivity.Identity.createFromDataContext(n.temporaryContact==null?r.data:null,n.temporaryContact),this._network$1=this._identity$1.networks.findById(t),this._network$1==null){Jx.log.write(2,"Unknown network: "+t);this._navigateBack$1(People.RecentActivity.UI.Core.SelfPageNavigationHelper.navigateBack);return}this._selfpage$1=new People.RecentActivity.UI.SelfPage.SelfPage(n);this.data.element.appendChild(this._selfpage$1.element);People.RecentActivity.Core.EtwHelper.writeUnofficialEvent(People.RecentActivity.Core.EtwEventName.unofficialUISelfPageGetStart);this._network$1.addListener("getobjectcompleted",this._onGetObjectCompleted$1,this);this._network$1.getObject(i,u,null)};People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._renderInternal$1=function(){if((Jx.log.write(4,"SelfPageHostedControlImpl::RenderInternal("+this._rendered$1+","+this._initialized$1+","+this._isAborted+")"),!this._isAborted)&&this._rendered$1&&(this._selfpageInitialized$1||(this._selfpageInitialized$1=true,this._selfpage$1.renderBackButton()),this._initialized$1)){this._selfpage$1.render(this._obj$1,this._hydrationData$1);People.RecentActivity.UI.Core.GlobalProgressControl.remove(this);var n=this.data.fields;People.RecentActivity.Core.EtwHelper.writeSelfPageEvent(People.RecentActivity.Core.EtwEventName.uiSelfPageEnd,n.objectId)}};People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._navigateBack$1=function(n){this._isAborted=true;this._isEnterComplete$1?n():this._onEnterCompleteCallback$1=n};People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._onEnterComplete$1=function(){this._isEnterComplete$1=true;this._onEnterCompleteCallback$1!=null&&(this._onEnterCompleteCallback$1(),this._onEnterCompleteCallback$1=null)};People.RecentActivity.UI.Host.SelfPageHostedControlImpl.prototype._onGetObjectCompleted$1=function(n){if(Jx.log.write(4,"SelfPageHostedControlImpl::OnGetObjectCompleted()"),People.RecentActivity.Core.EtwHelper.writeUnofficialEvent(People.RecentActivity.Core.EtwEventName.unofficialUISelfPageGetEnd),this._network$1.removeListenerSafe("getobjectcompleted",this._onGetObjectCompleted$1,this),n.result.code!==People.RecentActivity.Core.ResultCode.success){Jx.log.write(2,"Failed to retrieve feed object. ResultCode="+n.result.code);var i=this._network$1.id,t=this.data.fields;this._navigateBack$1(function(){People.RecentActivity.UI.Core.SelfPageNavigationHelper.navigateBack();Jx.isNonEmptyString(t.fallbackUrl)&&(People.RecentActivity.Core.BiciHelper.createClickThroughDatapoint(i,People.RecentActivity.Core.BiciClickthroughAction.selfPageGetFeedObjectFailed),People.RecentActivity.UI.Core.UriHelper.launchUri(t.fallbackUrl))})}else this._initialized$1=true,this._obj$1=n.feedObject,this._renderInternal$1()};People.RecentActivity.UI.Host.WhatsNewHostedControl=function(n,t){People.RecentActivity.UI.Host.HostedControl.call(this,n,t)};Jx.inherit(People.RecentActivity.UI.Host.WhatsNewHostedControl,People.RecentActivity.UI.Host.HostedControl);People.RecentActivity.UI.Host.WhatsNewHostedControl.prototype.onLoad=function(n){return new People.RecentActivity.UI.Host.WhatsNewHostedControlImpl(n)};People.RecentActivity.UI.Host.WhatsNewHostedControlImpl=function(n){People.RecentActivity.UI.Host.HostedControlImpl.call(this,n)};Jx.inherit(People.RecentActivity.UI.Host.WhatsNewHostedControlImpl,People.RecentActivity.UI.Host.HostedControlImpl);People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype._identity$1=null;People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype._layout$1=null;People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype.onGetAnimationData=function(){return this._layout$1.getAnimationData()};People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype.onDispose=function(){this._layout$1.dispose();this._layout$1=null;this._identity$1.dispose();this._identity$1=null};People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype.onInitialize=function(n){this._initialize$1(n)};People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype.onInitializeFromLinked=function(){this._initialize$1(null)};People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype.onPrepareSaveState=function(n){var t=true,i=null,r=null,u;switch(n){case 2:case 0:r=this._layout$1.getState();i=this._layout$1.getMarkupState();t=false}return u=this._layout$1.getItemState(t),People.RecentActivity.UI.Host.create_whatsNewHostedControlImplState(u,i,r)};People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype.onRender=function(){this._layout$1.render()};People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype.resetScrollPosition=function(){this._layout$1.resetScrollPosition()};People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype.onHasFilter=function(){return this._layout$1.hasFilter()};People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype.onGetCurrentFilterName=function(){return this._layout$1.getCurrentFilterName()};People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype.onGetFilterItems=function(){return this._layout$1.getFilterItems()};People.RecentActivity.UI.Host.WhatsNewHostedControlImpl.prototype._initialize$1=function(n){var t=n;this._identity$1=People.RecentActivity.Identity.createWhatsNewIdentity();this._layout$1=new People.RecentActivity.UI.Feed.FeedLayout(this._identity$1,this.data.element);this._layout$1.initialize(t!=null?t.state:null,t!=null?t.itemStateId:null,t!=null?t.markupStateId:null)}})