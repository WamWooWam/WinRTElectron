Jx.delayDefine(People.Controls,"ContactAddControl",function(){function r(n,t){return function(){try{return t.apply(this,arguments)}finally{}}}function e(t,i){var r,o;this._hostDiv.setAttribute("aria-label",Jx.escapeHtml(Jx.res.getString("/strings/createContactHeader")));var s=this._host.getPlatform(),u=s.accountManager,h=u.defaultAccount.objectId,c=this._contact={isAdd:true,account:h},e=Object.create(n.Contact.editFieldList);e.account={group:"account",type:"select",locId:"groupTitle_account"};r=Object.create(n.Contact.getEditGroupList());r.account={multiple:false,disallowFieldTypeChange:true,showFirstFieldOnGroupEmpty:false,fieldList:["account"]};o=this._uiform=new n.UiForm({fieldList:e,groupList:r,loc:Jx.res,formValidator:n.Contact._formValidator,cssPrefix:"profileEdit-",residPrefix:"/strings/profile_",onFormChanged:this._resizeContent.bind(this)});o.fieldList.account.options=f(u);this._createEditForm(t,c,i)}function o(t){for(var f=t.getConnectedAccountsByScenario(i.ApplicationScenario.people,i.ConnectedFilter.normal,i.AccountSort.name),e=[],u,r=0,o=f.count;r<o;r++)u=f.item(r),n.CommitContact.canCreateContacts(u)&&e.push(new n.UiFormSelectInputControl.Option(u.objectId,u.displayName));return e}var n=window.People,t=n.Controls,s=n.Nav,h=n.Layout,i=Microsoft.WindowsLive.Platform,u=t.ContactAddControl=function(n){t.ContactEditControl.call(this,n)},f;Jx.inherit(u,t.ContactEditControl);u.prototype._loadContent=r("loadContent",e);f=r("getEditableAccounts",o)})